<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<!--Build output setting-->
	<PropertyGroup>
		<EnlistmentRoot>$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildProjectDirectory), 'build.ps1'))</EnlistmentRoot>
		<EnlistmentRootSrc>$(EnlistmentRoot)\src</EnlistmentRootSrc>

		<ArtifactRoot>$(EnlistmentRoot)\artifacts</ArtifactRoot>
		<ArtifactRoot>$([System.IO.Path]::GetFullPath( $(ArtifactRoot) ))</ArtifactRoot>

		<RelativeOutputPathBase>$(MSBuildProjectDirectory.Substring($(EnlistmentRootSrc.Length)))</RelativeOutputPathBase>

		<BaseIntermediateOutputPath>$(EnlistmentRoot)\artifacts\obj</BaseIntermediateOutputPath>
		<BaseIntermediateOutputPath>$([System.IO.Path]::GetFullPath( $(BaseIntermediateOutputPath) ))</BaseIntermediateOutputPath>

		<Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>

		<OutputPath>$(ArtifactRoot)\$(MSBuildProjectName)</OutputPath>
		<OutputPath>$([System.IO.Path]::GetFullPath( $(OutputPath) ))\</OutputPath>

		<AppxPackageDir>$(OutputPath)</AppxPackageDir>

		<IntermediateOutputPath>$(BaseIntermediateOutputPath)\$(MSBuildProjectName)</IntermediateOutputPath>
		<IntermediateOutputPath>$([System.IO.Path]::GetFullPath( $(IntermediateOutputPath) ))\</IntermediateOutputPath>

		<SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">$(EnlistmentRoot)\</SolutionDir>
	</PropertyGroup>

	<!--Semantic Version-->
	<PropertyGroup>
		<!--
		  Semantic Version. See http://semver.org for full details.
		  Update for every public release.
		-->
		<SemanticVersionMajor>3</SemanticVersionMajor>
		<SemanticVersionMinor>4</SemanticVersionMinor>
		<SemanticVersionPatch>0</SemanticVersionPatch>
		<PreReleaseVersion>0</PreReleaseVersion>
	</PropertyGroup>

	<!--Setting the Pre-release/Build meta-data from CI if Version is set-->
	<PropertyGroup Condition="'$(BuildNumber)' != ''">
		<PreReleaseVersion>$(BuildNumber)</PreReleaseVersion>
	</PropertyGroup>

	<!--Setting the product information for Beta builds-->
	<PropertyGroup Condition="'$(ReleaseLabel)' != 'Release'">
		<PreReleaseInformationVersion>-$(ReleaseLabel)-$(PreReleaseVersion)</PreReleaseInformationVersion>
	</PropertyGroup>
</Project>